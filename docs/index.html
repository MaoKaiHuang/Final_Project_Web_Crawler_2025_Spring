<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>電影資料展示</title>
    <style>
    body {
        font-family: sans-serif;
        margin: 2em;
    }

    h2 {
        color: #2c3e50;
    }

    .review {
        margin-bottom: 1em;
        padding: 1em;
        border: 1px solid #ddd;
        border-radius: 6px;
    }
    </style>
</head>

<body>
    <h1>🎬 電影資料與評論展示</h1>
    <div id="movie-info"></div>
    <hr>
    <h2>部分評論</h2>
    <div id="reviews"></div>
    <script>
    const query = "玩命關頭4"; // 替換成你的查詢字串
    const safeQuery = query.replace(/\s+/g, "_");
    const movieUrl = `${safeQuery}_movie_info.json`;
    const reviewsUrl = `${safeQuery}_reviews.json`;

    fetch(movieUrl)
        .then(res => res.json())
        .then(data => {
            const movie = data[0];
            const info = `
          <h2>${movie["電影標題"]} (${movie["上映年份"]})</h2>
          <p>${movie["電影描述"]}</p>
          <img src="${movie["海報圖片"]}" alt="海報" width="200">
          <p>⭐ 平均評分：${movie["平均評分"]}（${movie["評分總數"]} 則）</p>
        `;
            document.getElementById("movie-info").innerHTML = info;
        });

    fetch(reviewsUrl)
        .then(res => res.json())
        .then(data => {
            const container = document.getElementById("reviews");
            data.slice(0, 5).forEach(r => {
                const div = document.createElement("div");
                div.className = "review";
                div.innerHTML = `
            <strong>${r.Reviewer}</strong> - 評分：${r.Rating} - 日期：${r.Date}
            <p>${r.Content}</p>
            <small>👍 ${r.Likes} 人喜歡</small>
          `;
                container.appendChild(div);
            });
        });
    </script>
</body>

</html>